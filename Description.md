# Интернет-магазин

Этот учебный проект — функциональный набросок интернет-магазина. 

## Краткий список возможностей

* Вывод списка продуктов на витрину
* Просмотр информации о товаре
* Добавление товаров в корзину
* Оформление заказа (для авторизованных пользователей)
* Регистрация и авторизация пользователей
* Создание, изменение и удаление товара (только для авторизованных администраторов).

## Описание интерфейса пользователя

### Главная страница интернет-магазина

Главная страница магазина содержит только главное меню и приглашение делать покупки.

![Главное меню](screenshots\main-page.png)

### Главное меню

Главное меню содержит кнопки для перехода к основным страницам магазина, а также компактную форму для авторизации.

В режиме администратора к ним добавляется пункт _Создать продукт_ для перехода на страницу создания товарной позиции.

![Главное меню (режим администратора)](screenshots\main-page-admin.png)

### Список товаров

Список товаров находится на странице _Каталог продуктов_. Он поделён на страницы и кроме самого списка содержит фильтр. Каждая строка списка содержит минимальную информацию об одной товарной позиции, кнопки добавления товара в корзину, удаления его из корзины и кнопку получения краткой информации о товаре.

![Список товаров](screenshots\store-user.png)

![Краткая информация о товаре](screenshots\store-item-short-info.png)

В режиме администратора доступны дополнительные кнопки: редактирования и удаления товара.

![Список товаров (режим администратора)](screenshots\store-admin.png)

### Фильтры

Фильтры позволяют фильтровать список товарных позиций по минимальной и максимальной цене и по названию.

![Отфильтрованный список товаров ](screenshots\store-filtered-user.png)

### Регистрация и авторизация пользователя

Для регистрация нового пользователя предназначена форма на странице регистрации. Пользователь должен указать логин, пароль и адрес электронной почты.

![Регистрация пользователя](screenshots\registration-page.png)

Для авторизации пользователя служит мини-форма в главном меню.

### Профиль пользователя

Содержит информацию о зарегистрированном пользователе и подробную информацию о сделанных заказах, включая отменённые заказы.

![Профиль пользователя-администратора](screenshots\user-profile-admin.png)

Для пользователя-администратора на этой станице есть кнопка включения режима редактирования товаров _Режим редактирования товаров_. 

### Корзина

Корзина это — страница со списком выбранных пользователем товарных позиций, представленный в форме удобной для просмотра и редактирования. Здесь пользователь может изменять количества товаров в товарных позициях, и может удалять избранные товарные или все позиции. Здесь же пользователь может видеть общую стоимость выбранных товаров.

![Корзина](screenshots\cart.png)

> При изменении количества товара, может получиться так, что некоторые товарные позиции окажутся «пустыми» (количество единиц товара в них станет равным нулю). Такие «пустые» позиции остаются в корзине до тех пор, пока пользователь не удалит их.

Неавторизованный пользователь может пользоваться временной, гостевой корзиной, но чтобы оформить заказ, он должен авторизоваться. В этом случае при авторизации (или регистрации) пользователя все товарные позиции, включая «пустые», из гостевой корзины перемещаются в корзину авторизованного пользователя.

Если свойства какого-либо товара изменились — цена, название, категория, единица измерения — то при обновлении страницы эти изменения отобразятся и в списке товарных позиций в корзине.

### Оформление заказа

Оформление заказа доступно только авторизованным пользователям.

При формировании списка товаров для заказа, в него из корзины попадают только **непустые** товарные позиции. Пустые позиции остаются в корзине.

![Оформление заказа](screenshots\order-confirmation.png)

На странице оформления заказа пользователь может видеть список выбранных им товаров, их общие стоимость, количество и краткую инструкцию по оформлению заказа.

Чтобы оформить заказ, пользователь должен указать свои адрес доставки и номер телефона для связи. Если эти данные не будут указаны, то оформление заказа нельзя будет завершить. Самовывоз заказов или доставка их почтой невозможны.

Оформление заказа завершается нажатием кнопки _Оформить заказ_. После этого шага пользователю демонстрируются информация о сделанном заказе и сообщение о том, как будет проходить работа над заказом в ближайшее время. В это же время в кабинете пользователя станет доступна информация об этом заказе. Здесь же находится кнопка _Оплатить сейчас_, нажав на которую пользователь не сможет оплатить заказ при помощи PayPal.

![Оформленный заказ](screenshots\order-created.png)

> **Примечание!** Количество заказываемого товара не может превышать остаток товара в магазине. 

> **Примечание!** Отпускные цены на выбранный пользователем товар фиксируются **только** в момент оформления заказа (в момент нажатия пользователем кнопки «Оформить заказ»).

### Редактирование и создание товара

Пользователь с правами администратора может редактировать товарную позицию, нажав соответствующую кнопку в списке товаров. Для редактирования доступны: название товара, название категории, цена, количество (т.н. товарный остаток), единицы измерения. 

![Редактирование товарной позиции](screenshots\item-editing.png)

На этой же странице администратор может создать новый товар, но зайти на неё нужно по нажатию кнопки главного меню _Создать продукт_.

### Карточка товара

Карточка товара это — страница, содержащая подробную информацию о товаре и отзывы покупателей о товаре. Попасть на эту страницу можно только кликнув по имени товара в на странице _Каталог продуктов_.

![Карточка товара](screenshots\item-page-new-review2.png)

Пользователь может отставить отзыв о товаре только единожды и только в том случае, если он купил этот товар хотя бы один раз.

## Используемые технологии

* **Spring Boot**
    * Spring Web
    * Spring JPA
    * Spring Security
* **Rest API**
* **PostgreSQL**
* **Flyway**
* **Docker**
* **Memurai** (хранение информации о корзине пользователя)
* **JWT**
* **Lombok**
* **Hibernate validator**
* **JSON**
* **HTML, CSS, JavaScript, AngularJS, Bootstrap.** 

